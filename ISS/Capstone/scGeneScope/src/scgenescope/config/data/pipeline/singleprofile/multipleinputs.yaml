defaults:
  - _self_

  - iterators@data_iter_factory.train: samples
  - iterators@data_iter_factory.val: samples
  - iterators@data_iter_factory.test: samples

  - source/aplusplus@data_iter_factory.train.file_path: ???
  - source/aplusplus@data_iter_factory.val.file_path: ???
  - source/aplusplus@data_iter_factory.test.file_path: null

  - pipeline/transform@transform: multiple_input_sample_transform
  # - pipeline/transform/treatment@transform.encode_labels: label_encode_seen

_target_: scgenescope.data.modules.LitGenericDataModule

data_iter_factory: 
  train:
    include_observations: true
  val:
    include_observations: true
  test:
    include_observations: true

# Batch Schema: <embeddings, perturbation> = list(Tensor[batch_size, dim], Tensor[batch_size])
loader_factory:
  _target_: scgenescope.data.loaders.NoCollateDataLoader
  _partial_: true
  batch_size: ???
  num_workers: ???
